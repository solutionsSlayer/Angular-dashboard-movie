function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(t,e,i){"use strict";i.r(e);var r,n=i("ofXK"),o=i("3Pt+"),b=i("fXoL"),c=i("Qdtg"),a=i("tyNb"),u=i("tk/3"),l=function(){return["/admin/category"]},s=((r=function(){function t(e,i,r,n){var o=this;_classCallCheck(this,t),this.categoryService=e,this.router=i,this.route=r,this.http=n,this.route.params.subscribe((function(t){return o.id=t.id}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCategoryDetail(this.id),this.categoryForm=new o.g({name:new o.d})}},{key:"getCategoryDetail",value:function(t){var e=this;this.categoryService.getCategoryDetail(t).subscribe((function(t){e.categoryForm.patchValue({name:t.name})}))}},{key:"onSubmit",value:function(){var t=this;this.categoryService.editCategory(this.categoryForm.value,this.id).subscribe((function(e){t.router.navigate(["/admin/category"])}))}}]),t}()).\u0275fac=function(t){return new(t||r)(b.Jb(c.a),b.Jb(a.b),b.Jb(a.a),b.Jb(u.b))},r.\u0275cmp=b.Db({type:r,selectors:[["app-category-edit"]],decls:19,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","name","formControlName","name",1,"w-100"],["type","submit",1,"btn-primary","mt-4"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Category"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"Name"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"button",11),b.lc(18,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(2,l)),b.zb(3),b.ac("formGroup",e.categoryForm))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f],styles:[""]}),r),d=i("1p6d"),m=function(t){return["/admin/actor/edit",t]};function v(t,e){if(1&t){var i=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.lc(2),b.Lb(),b.Mb(3,"td"),b.lc(4),b.Lb(),b.Mb(5,"td"),b.lc(6),b.Lb(),b.Mb(7,"td"),b.lc(8),b.Xb(9,"date"),b.Lb(),b.Mb(10,"td"),b.Mb(11,"button",9),b.lc(12,"Edit"),b.Lb(),b.Mb(13,"button",10),b.Ub("click",(function(){b.hc(i);var t=e.$implicit;return b.Wb().deleteActor(t.id)})),b.lc(14,"Delete"),b.Lb(),b.Lb(),b.Lb()}if(2&t){var r=e.$implicit;b.zb(2),b.mc(r.id),b.zb(2),b.mc(r.firstname),b.zb(2),b.mc(r.name),b.zb(2),b.mc(b.Yb(9,5,r.birth,"dd - MM - yyyy")),b.zb(3),b.ac("routerLink",b.fc(8,m,r.id))}}var f,p=function(){return["/admin/actor/add"]},h=((f=function(){function t(e){_classCallCheck(this,t),this.actorService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.getActors()}},{key:"getActors",value:function(){var t=this;this.actorService.getActors().subscribe((function(e){return t.actors=e}))}},{key:"deleteActor",value:function(t){this.actorService.deleteActor(t).subscribe(),this.actors=this.actors.filter((function(e){return e.id!==t}))}}]),t}()).\u0275fac=function(t){return new(t||f)(b.Jb(d.a))},f.\u0275cmp=b.Db({type:f,selectors:[["app-actor-list"]],decls:24,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4," Actor "),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"+ Add Actor"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"table",6),b.Mb(10,"thead"),b.Mb(11,"tr"),b.Mb(12,"th",7),b.lc(13,"id"),b.Lb(),b.Mb(14,"th",7),b.lc(15,"Name"),b.Lb(),b.Mb(16,"th",7),b.lc(17,"First Name"),b.Lb(),b.Mb(18,"th",7),b.lc(19,"Birthday"),b.Lb(),b.Mb(20,"th",7),b.lc(21,"Actions"),b.Lb(),b.Lb(),b.Lb(),b.Mb(22,"tbody"),b.kc(23,v,15,10,"tr",8),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(2,p)),b.zb(17),b.ac("ngForOf",e.actors))},directives:[a.d,a.c,n.k],pipes:[n.d],styles:[""]}),f),L=function(t){return["/admin/category/edit",t]};function g(t,e){if(1&t){var i=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.lc(2),b.Lb(),b.Mb(3,"td"),b.lc(4),b.Lb(),b.Mb(5,"td"),b.Mb(6,"button",9),b.lc(7,"Edit"),b.Lb(),b.Mb(8,"button",10),b.Ub("click",(function(){b.hc(i);var t=e.$implicit;return b.Wb().deleteCategory(t.id)})),b.lc(9,"Delete"),b.Lb(),b.Lb(),b.Lb()}if(2&t){var r=e.$implicit;b.zb(2),b.mc(r.id),b.zb(2),b.mc(r.name),b.zb(2),b.ac("routerLink",b.fc(3,L,r.id))}}var M,y=function(){return["/admin/category/add"]},k=((M=function(){function t(e){_classCallCheck(this,t),this.categoryService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var t=this;this.categoryService.getCategories().subscribe((function(e){return t.categories=e}))}},{key:"deleteCategory",value:function(t){this.categoryService.deleteCategory(t).subscribe(),this.categories=this.categories.filter((function(e){return e.id!==t}))}}]),t}()).\u0275fac=function(t){return new(t||M)(b.Jb(c.a))},M.\u0275cmp=b.Db({type:M,selectors:[["app-category-list"]],decls:20,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4," Categories "),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"+ Add Category"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"table",6),b.Mb(10,"thead"),b.Mb(11,"tr"),b.Mb(12,"th",7),b.lc(13,"id"),b.Lb(),b.Mb(14,"th",7),b.lc(15,"Category"),b.Lb(),b.Mb(16,"th",7),b.lc(17,"Actions"),b.Lb(),b.Lb(),b.Lb(),b.Mb(18,"tbody"),b.kc(19,g,10,5,"tr",8),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(2,y)),b.zb(13),b.ac("ngForOf",e.categories))},directives:[a.d,a.c,n.k],styles:[""]}),M),C=i("FU6A");function w(t,e){if(1&t&&(b.Mb(0,"p"),b.lc(1),b.Lb()),2&t){var i=e.$implicit;b.zb(1),b.oc(" ",i.firstname," ",i.name," ")}}var F=function(t){return["/admin/movie/add/actor",t]},S=function(t){return["/admin/movie/edit",t]};function z(t,e){if(1&t){var i=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.lc(2),b.Lb(),b.Mb(3,"td"),b.lc(4),b.Lb(),b.Mb(5,"td"),b.lc(6),b.Lb(),b.Mb(7,"td"),b.kc(8,w,2,2,"p",8),b.Lb(),b.Mb(9,"td"),b.Mb(10,"button",9),b.lc(11,"Edit actor"),b.Lb(),b.Mb(12,"button",10),b.lc(13,"Edit"),b.Lb(),b.Mb(14,"button",11),b.Ub("click",(function(){b.hc(i);var t=e.$implicit;return b.Wb().deleteMovie(t.id)})),b.lc(15,"Delete"),b.Lb(),b.Lb(),b.Lb()}if(2&t){var r=e.$implicit;b.zb(2),b.mc(r.id),b.zb(2),b.mc(r.title),b.zb(2),b.mc(r.year),b.zb(2),b.ac("ngForOf",r.Actors),b.zb(2),b.ac("routerLink",b.fc(6,F,r.id)),b.zb(2),b.ac("routerLink",b.fc(8,S,r.id))}}var G,A,I=function(){return["/admin/movie/add"]},N=((G=function(){function t(e){_classCallCheck(this,t),this.movieService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.getMovies()}},{key:"getMovies",value:function(){var t=this;this.movieService.getMovies().subscribe((function(e){return t.movies=e}))}},{key:"deleteMovie",value:function(t){this.movieService.deleteMovie(t).subscribe(),this.movies=this.movies.filter((function(e){return e.id!==t}))}}]),t}()).\u0275fac=function(t){return new(t||G)(b.Jb(C.a))},G.\u0275cmp=b.Db({type:G,selectors:[["app-movie-list"]],decls:24,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-warning","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4," Movie "),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"+ Add Movie"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"table",6),b.Mb(10,"thead"),b.Mb(11,"tr"),b.Mb(12,"th",7),b.lc(13,"id"),b.Lb(),b.Mb(14,"th",7),b.lc(15,"Title"),b.Lb(),b.Mb(16,"th",7),b.lc(17,"Year"),b.Lb(),b.Mb(18,"th",7),b.lc(19,"Actors"),b.Lb(),b.Mb(20,"th",7),b.lc(21,"Actions"),b.Lb(),b.Lb(),b.Lb(),b.Mb(22,"tbody"),b.kc(23,z,16,10,"tr",8),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(2,I)),b.zb(17),b.ac("ngForOf",e.movies))},directives:[a.d,a.c,n.k],styles:[""]}),G),K=function(){return["/admin/category"]},O=((A=function(){function t(e,i){_classCallCheck(this,t),this.categoryService=e,this.router=i,this.categoryForm=new o.g({name:new o.d})}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var t=this;this.categoryService.addCategory(this.categoryForm.value).subscribe((function(e){t.router.navigate(["/admin/category"])}))}}]),t}()).\u0275fac=function(t){return new(t||A)(b.Jb(c.a),b.Jb(a.b))},A.\u0275cmp=b.Db({type:A,selectors:[["app-category-add"]],decls:19,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","name","formControlName","name",1,"w-100"],["type","submit",1,"btn-primary","mt-4"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Category"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"Name"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"button",11),b.lc(18,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(2,K)),b.zb(3),b.ac("formGroup",e.categoryForm))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f],styles:[""]}),A);function x(t,e){if(1&t&&(b.Mb(0,"option",19),b.lc(1),b.Lb()),2&t){var i=e.$implicit;b.ac("ngValue",i.id),b.zb(1),b.nc(" ",i.name," ")}}var J,D,_=function(){return["/admin/movie"]},V=((J=function(){function t(e,i,r){_classCallCheck(this,t),this.movieService=e,this.categoryService=i,this.router=r,this.movieForm=new o.g({title:new o.d,description:new o.d,picture:new o.d,year:new o.d,note:new o.d,CategoryId:new o.d})}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var t=this;this.categoryService.getCategories().subscribe((function(e){return t.categories=e}))}},{key:"onFileChanged",value:function(t){this.file=t.target.files[0]}},{key:"onSubmit",value:function(){var t=this,e=new FormData;e.append("title",this.movieForm.get("title").value),e.append("description",this.movieForm.get("description").value),e.append("year",this.movieForm.get("year").value),e.append("note",this.movieForm.get("note").value),e.append("CategoryId",this.movieForm.get("CategoryId").value),null!=this.file&&e.append("picture",this.file,this.file.name),this.movieService.addMovie(e).subscribe((function(e){t.router.navigate(["/admin/movie"])}))}}]),t}()).\u0275fac=function(t){return new(t||J)(b.Jb(C.a),b.Jb(c.a),b.Jb(a.b))},J.\u0275cmp=b.Db({type:J,selectors:[["app-movie-add"]],decls:56,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","title","formControlName","title",1,"w-100"],["type","number","name","year","formControlName","year",1,"w-100"],["type","number","name","note","formControlName","note",1,"w-100"],["formControlName","CategoryId",1,"w-100"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","description","formControlName","description",1,"w-100"],["type","file","formControlName","picture","name","picture","id","picture",3,"change"],["type","submit",1,"btn-primary","mt-4"],[3,"ngValue"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Movie"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"Title"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"div",7),b.Mb(18,"div",8),b.Mb(19,"label"),b.lc(20,"Year"),b.Lb(),b.Lb(),b.Mb(21,"div",9),b.Kb(22,"input",11),b.Kb(23,"br"),b.Lb(),b.Lb(),b.Mb(24,"div",7),b.Mb(25,"div",8),b.Mb(26,"label"),b.lc(27,"Note"),b.Lb(),b.Lb(),b.Mb(28,"div",9),b.Kb(29,"input",12),b.Kb(30,"br"),b.Lb(),b.Lb(),b.Mb(31,"div",7),b.Mb(32,"div",8),b.Mb(33,"label"),b.lc(34,"Category"),b.Lb(),b.Lb(),b.Mb(35,"div",9),b.Mb(36,"select",13),b.Mb(37,"option",14),b.lc(38,"Choose your category"),b.Lb(),b.kc(39,x,2,2,"option",15),b.Lb(),b.Kb(40,"br"),b.Lb(),b.Lb(),b.Mb(41,"div",7),b.Mb(42,"div",8),b.Mb(43,"label"),b.lc(44,"Description"),b.Lb(),b.Lb(),b.Mb(45,"div",9),b.Mb(46,"textarea",16),b.lc(47," "),b.Lb(),b.Lb(),b.Lb(),b.Mb(48,"div",7),b.Mb(49,"div",8),b.Mb(50,"label"),b.lc(51,"Picture"),b.Lb(),b.Lb(),b.Mb(52,"div",9),b.Mb(53,"input",17),b.Ub("change",(function(t){return e.onFileChanged(t)})),b.Lb(),b.Lb(),b.Lb(),b.Mb(54,"button",18),b.lc(55,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(4,_)),b.zb(3),b.ac("formGroup",e.movieForm),b.zb(28),b.ac("ngValue",null),b.zb(2),b.ac("ngForOf",e.categories))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f,o.m,o.p,o.l,o.r,n.k],styles:[""]}),J),j=i("HnHP"),U=i("vkgz"),$=i("JIr8"),P=i("AytR"),B=i("TkUd"),E=((D=function(){function t(e,i){_classCallCheck(this,t),this.http=e,this.errorService=i}return _createClass(t,[{key:"getGenders",value:function(){return this.http.get(P.a.apiUrl+"genders").pipe(Object(U.a)((function(t){return t})),Object($.a)(this.errorService.handleError("getGenders",[])))}}]),t}()).\u0275fac=function(t){return new(t||D)(b.Qb(u.b),b.Qb(B.a))},D.\u0275prov=b.Fb({token:D,factory:D.\u0275fac,providedIn:"root"}),D);function T(t,e){if(1&t&&(b.Mb(0,"span"),b.Kb(1,"input",19),b.Mb(2,"label",20),b.lc(3),b.Lb(),b.Lb()),2&t){var i=e.$implicit;b.zb(1),b.bc("id",i.id),b.bc("value",i.id),b.zb(1),b.bc("for",i.name),b.zb(1),b.mc(i.name)}}function H(t,e){if(1&t&&(b.Mb(0,"option",21),b.lc(1),b.Lb()),2&t){var i=e.$implicit;b.ac("ngValue",i.id),b.zb(1),b.nc(" ",i.name," ")}}var W,Y=function(){return["/admin/actor"]},q=((W=function(){function t(e,i,r,n){_classCallCheck(this,t),this.actorService=e,this.countryService=i,this.genderService=r,this.router=n,this.actorForm=new o.g({name:new o.d,firstname:new o.d,birth:new o.d,picture:new o.d,CountryId:new o.d,GenderId:new o.d})}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCountries(),this.getGenders()}},{key:"getCountries",value:function(){var t=this;this.countryService.getCountries().subscribe((function(e){return t.countries=e}))}},{key:"getGenders",value:function(){var t=this;this.genderService.getGenders().subscribe((function(e){return t.genders=e}))}},{key:"onFileChanged",value:function(t){this.file=t.target.files[0]}},{key:"onSubmit",value:function(){var t=this,e=new FormData;e.append("name",this.actorForm.get("name").value),e.append("firstname",this.actorForm.get("firstname").value),e.append("birth",this.actorForm.get("birth").value),e.append("CountryId",this.actorForm.get("CountryId").value),e.append("GenderId",this.actorForm.get("GenderId").value),null!=this.file&&e.append("picture",this.file,this.file.name),this.actorService.addActor(e).subscribe((function(e){t.router.navigate(["/admin/actor"])}))}}]),t}()).\u0275fac=function(t){return new(t||W)(b.Jb(d.a),b.Jb(j.a),b.Jb(E),b.Jb(a.b))},W.\u0275cmp=b.Db({type:W,selectors:[["app-actor-add"]],decls:55,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","firstname","formControlName","firstname",1,"w-100"],["type","text","name","name","formControlName","name",1,"w-100"],["type","date","name","birth","formControlName","birth",1,"w-100"],[4,"ngFor","ngForOf"],["formControlName","CountryId",1,"w-100"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","file","formControlName","picture","name","picture","id","picture",3,"change"],["type","submit",1,"btn-primary","mt-4"],["type","radio","name","GenderId","formControlName","GenderId",1,"mr-5",3,"id","value"],[1,"mr-5",3,"for"],[3,"ngValue"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Actor"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"First Name"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"div",7),b.Mb(18,"div",8),b.Mb(19,"label"),b.lc(20,"Name"),b.Lb(),b.Lb(),b.Mb(21,"div",9),b.Kb(22,"input",11),b.Kb(23,"br"),b.Lb(),b.Lb(),b.Mb(24,"div",7),b.Mb(25,"div",8),b.Mb(26,"label"),b.lc(27,"Birth"),b.Lb(),b.Lb(),b.Mb(28,"div",9),b.Kb(29,"input",12),b.Kb(30,"br"),b.Lb(),b.Lb(),b.Mb(31,"div",7),b.Mb(32,"div",8),b.Mb(33,"label"),b.lc(34,"Gender"),b.Lb(),b.Lb(),b.Mb(35,"div",9),b.kc(36,T,4,4,"span",13),b.Lb(),b.Lb(),b.Mb(37,"div",7),b.Mb(38,"div",8),b.Mb(39,"label"),b.lc(40,"Country"),b.Lb(),b.Lb(),b.Mb(41,"div",9),b.Mb(42,"select",14),b.Mb(43,"option",15),b.lc(44,"Choose your country"),b.Lb(),b.kc(45,H,2,2,"option",16),b.Lb(),b.Kb(46,"br"),b.Lb(),b.Lb(),b.Mb(47,"div",7),b.Mb(48,"div",8),b.Mb(49,"label"),b.lc(50,"Picture"),b.Lb(),b.Lb(),b.Mb(51,"div",9),b.Mb(52,"input",17),b.Ub("change",(function(t){return e.onFileChanged(t)})),b.Lb(),b.Lb(),b.Lb(),b.Mb(53,"button",18),b.lc(54,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(5,Y)),b.zb(3),b.ac("formGroup",e.actorForm),b.zb(27),b.ac("ngForOf",e.genders),b.zb(7),b.ac("ngValue",null),b.zb(2),b.ac("ngForOf",e.countries))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f,n.k,o.p,o.l,o.r,o.n],styles:[""]}),W);function Q(t,e){if(1&t&&(b.Mb(0,"span"),b.Kb(1,"input",21),b.Mb(2,"label",22),b.lc(3),b.Lb(),b.Lb()),2&t){var i=e.$implicit;b.zb(1),b.bc("id",i.id),b.bc("value",i.id),b.zb(1),b.bc("for",i.name),b.zb(1),b.mc(i.name)}}function X(t,e){if(1&t&&(b.Mb(0,"option",23),b.lc(1),b.Lb()),2&t){var i=e.$implicit;b.ac("ngValue",i.id),b.zb(1),b.nc(" ",i.name," ")}}var R,Z=function(){return["/admin/actor"]},tt=((R=function(){function t(e,i,r,n,b,c){var a=this;_classCallCheck(this,t),this.actorService=e,this.countryService=i,this.genderService=r,this.router=n,this.route=b,this.datePipe=c,this.actorForm=new o.g({name:new o.d,firstname:new o.d,birth:new o.d,picture:new o.d,CountryId:new o.d,GenderId:new o.d}),this.route.params.subscribe((function(t){return a.id=t.id}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getActorDetail(this.id),this.getCountries(),this.getGenders()}},{key:"getActorDetail",value:function(t){var e=this;this.actorService.getActorDetail(t).subscribe((function(t){console.log(t),e.actorForm.patchValue({name:t.name,firstname:t.firstname,birth:e.datePipe.transform(t.birth,"yyyy-MM-dd"),CountryId:t.CountryId,GenderId:t.GenderId}),e.avatar=t.picture}))}},{key:"getCountries",value:function(){var t=this;this.countryService.getCountries().subscribe((function(e){return t.countries=e}))}},{key:"getGenders",value:function(){var t=this;this.genderService.getGenders().subscribe((function(e){return t.genders=e}))}},{key:"onFileChanged",value:function(t){this.file=t.target.files[0]}},{key:"onSubmit",value:function(){var t=this,e=new FormData;e.append("name",this.actorForm.get("name").value),e.append("firstname",this.actorForm.get("firstname").value),e.append("birth",this.actorForm.get("birth").value),e.append("CountryId",this.actorForm.get("CountryId").value),e.append("GenderId",this.actorForm.get("GenderId").value),null!=this.file&&e.append("picture",this.file,this.file.name),this.actorService.editActor(e,this.id).subscribe((function(e){t.router.navigate(["/admin/actor"])}))}}]),t}()).\u0275fac=function(t){return new(t||R)(b.Jb(d.a),b.Jb(j.a),b.Jb(E),b.Jb(a.b),b.Jb(a.a),b.Jb(n.d))},R.\u0275cmp=b.Db({type:R,selectors:[["app-actor-edit"]],decls:56,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","firstname","formControlName","firstname",1,"w-100"],["type","text","name","name","formControlName","name",1,"w-100"],["type","date","name","birth","formControlName","birth",1,"w-100"],[4,"ngFor","ngForOf"],["formControlName","CountryId",1,"w-100"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","text-center"],[1,"w-50",3,"src"],["type","file","formControlName","picture","name","picture","id","picture",3,"change"],["type","submit",1,"btn-primary","mt-4",3,"disabled"],["type","radio","name","GenderId","formControlName","GenderId",1,"mr-5",3,"id","value"],[1,"mr-5",3,"for"],[3,"ngValue"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Actor"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"First Name"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"div",7),b.Mb(18,"div",8),b.Mb(19,"label"),b.lc(20,"Name"),b.Lb(),b.Lb(),b.Mb(21,"div",9),b.Kb(22,"input",11),b.Kb(23,"br"),b.Lb(),b.Lb(),b.Mb(24,"div",7),b.Mb(25,"div",8),b.Mb(26,"label"),b.lc(27,"Birth"),b.Lb(),b.Lb(),b.Mb(28,"div",9),b.Kb(29,"input",12),b.Kb(30,"br"),b.Lb(),b.Lb(),b.Mb(31,"div",7),b.Mb(32,"div",8),b.Mb(33,"label"),b.lc(34,"Gender"),b.Lb(),b.Lb(),b.Mb(35,"div",9),b.kc(36,Q,4,4,"span",13),b.Lb(),b.Lb(),b.Mb(37,"div",7),b.Mb(38,"div",8),b.Mb(39,"label"),b.lc(40,"Country"),b.Lb(),b.Lb(),b.Mb(41,"div",9),b.Mb(42,"select",14),b.Mb(43,"option",15),b.lc(44,"Choose your country"),b.Lb(),b.kc(45,X,2,2,"option",16),b.Lb(),b.Kb(46,"br"),b.Lb(),b.Lb(),b.Mb(47,"div",7),b.Mb(48,"div",8),b.Mb(49,"label"),b.lc(50,"Picture"),b.Lb(),b.Lb(),b.Mb(51,"div",17),b.Kb(52,"img",18),b.Mb(53,"input",19),b.Ub("change",(function(t){return e.onFileChanged(t)})),b.Lb(),b.Lb(),b.Lb(),b.Mb(54,"button",20),b.lc(55,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(7,Z)),b.zb(3),b.ac("formGroup",e.actorForm),b.zb(27),b.ac("ngForOf",e.genders),b.zb(7),b.ac("ngValue",null),b.zb(2),b.ac("ngForOf",e.countries),b.zb(7),b.cc("src","http://localhost:3000/",e.avatar,"",b.ic),b.zb(2),b.ac("disabled",!e.actorForm.valid))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f,n.k,o.p,o.l,o.r,o.n],styles:[""]}),R);function et(t,e){if(1&t&&(b.Mb(0,"option",21),b.lc(1),b.Lb()),2&t){var i=e.$implicit;b.ac("ngValue",i.id),b.zb(1),b.nc(" ",i.name," ")}}var it,rt=function(){return["/admin/movie"]},nt=((it=function(){function t(e,i,r,n){var b=this;_classCallCheck(this,t),this.movieService=e,this.categoryService=i,this.route=r,this.router=n,this.movieForm=new o.g({title:new o.d,description:new o.d,picture:new o.d,year:new o.d,note:new o.d,CategoryId:new o.d}),this.route.params.subscribe((function(t){return b.id=t.id}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCategories(),this.getMovieDetail(this.id)}},{key:"getMovieDetail",value:function(t){var e=this;this.movieService.getMovieDetail(t).subscribe((function(t){console.log(t),e.movieForm.patchValue({title:t.title,description:t.description,year:t.year,note:t.note,CategoryId:t.CategoryId}),e.avatar=t.picture}))}},{key:"getCategories",value:function(){var t=this;this.categoryService.getCategories().subscribe((function(e){return t.categories=e}))}},{key:"onFileChanged",value:function(t){this.file=t.target.files[0]}},{key:"onSubmit",value:function(){var t=this,e=new FormData;e.append("title",this.movieForm.get("title").value),e.append("description",this.movieForm.get("description").value),e.append("year",this.movieForm.get("year").value),e.append("note",this.movieForm.get("note").value),e.append("CategoryId",this.movieForm.get("CategoryId").value),null!=this.file&&e.append("picture",this.file,this.file.name),this.movieService.editMovie(e,this.id).subscribe((function(e){t.router.navigate(["/admin/movie"])}))}}]),t}()).\u0275fac=function(t){return new(t||it)(b.Jb(C.a),b.Jb(c.a),b.Jb(a.a),b.Jb(a.b))},it.\u0275cmp=b.Db({type:it,selectors:[["app-movie-edit"]],decls:57,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-md-center","mb-3"],[1,"col-12","col-sm-3"],[1,"col-12","col-sm-6"],["type","text","name","title","formControlName","title",1,"w-100"],["type","number","name","year","formControlName","year",1,"w-100"],["type","number","name","note","formControlName","note",1,"w-100"],["formControlName","CategoryId",1,"w-100"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","description","formControlName","description",1,"w-100"],[1,"col-12","col-sm-6","text-center"],[1,"w-50",3,"src"],["type","file","formControlName","picture","name","picture","id","picture",3,"change"],["type","submit",1,"btn-primary","mt-4"],[3,"ngValue"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4,"Add Movie"),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.onSubmit()})),b.Mb(10,"div",7),b.Mb(11,"div",8),b.Mb(12,"label"),b.lc(13,"Title"),b.Lb(),b.Lb(),b.Mb(14,"div",9),b.Kb(15,"input",10),b.Kb(16,"br"),b.Lb(),b.Lb(),b.Mb(17,"div",7),b.Mb(18,"div",8),b.Mb(19,"label"),b.lc(20,"Year"),b.Lb(),b.Lb(),b.Mb(21,"div",9),b.Kb(22,"input",11),b.Kb(23,"br"),b.Lb(),b.Lb(),b.Mb(24,"div",7),b.Mb(25,"div",8),b.Mb(26,"label"),b.lc(27,"Note"),b.Lb(),b.Lb(),b.Mb(28,"div",9),b.Kb(29,"input",12),b.Kb(30,"br"),b.Lb(),b.Lb(),b.Mb(31,"div",7),b.Mb(32,"div",8),b.Mb(33,"label"),b.lc(34,"Category"),b.Lb(),b.Lb(),b.Mb(35,"div",9),b.Mb(36,"select",13),b.Mb(37,"option",14),b.lc(38,"Choose your category"),b.Lb(),b.kc(39,et,2,2,"option",15),b.Lb(),b.Kb(40,"br"),b.Lb(),b.Lb(),b.Mb(41,"div",7),b.Mb(42,"div",8),b.Mb(43,"label"),b.lc(44,"Description"),b.Lb(),b.Lb(),b.Mb(45,"div",9),b.Mb(46,"textarea",16),b.lc(47," "),b.Lb(),b.Lb(),b.Lb(),b.Mb(48,"div",7),b.Mb(49,"div",8),b.Mb(50,"label"),b.lc(51,"Picture"),b.Lb(),b.Lb(),b.Mb(52,"div",17),b.Kb(53,"img",18),b.Mb(54,"input",19),b.Ub("change",(function(t){return e.onFileChanged(t)})),b.Lb(),b.Lb(),b.Lb(),b.Mb(55,"button",20),b.lc(56,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(6),b.ac("routerLink",b.ec(5,rt)),b.zb(3),b.ac("formGroup",e.movieForm),b.zb(28),b.ac("ngValue",null),b.zb(2),b.ac("ngForOf",e.categories),b.zb(14),b.cc("src","http://localhost:3000/",e.avatar,"",b.ic))},directives:[a.d,a.c,o.s,o.k,o.h,o.b,o.j,o.f,o.m,o.p,o.l,o.r,n.k],styles:[""]}),it);function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){var i=0;return Object.keys(e.controls).forEach((function(t){!0===e.controls[t].value&&i++})),i<t?{requireCheckboxToBeChecked:!0}:null}}function bt(t,e){if(1&t&&(b.Mb(0,"div",10),b.Kb(1,"img",11),b.Mb(2,"label"),b.Kb(3,"input",12),b.lc(4),b.Lb(),b.Lb()),2&t){var i=e.$implicit,r=e.index,n=b.Wb();b.zb(1),b.cc("src","http://localhost:3000/",null==n.actors[r]?null:n.actors[r].picture," ",b.ic),b.zb(2),b.ac("formControl",null==n.actorsFormGroup?null:n.actorsFormGroup.controls[i.id]),b.zb(1),b.oc(" ",null==n.actors[r]?null:n.actors[r].firstname," ",null==n.actors[r]?null:n.actors[r].name," ")}}var ct,at,ut=function(){return["/admin/movie"]},lt=[{path:"actor",component:h},{path:"actor/add",component:q},{path:"actor/edit/:id",component:tt},{path:"category",component:k},{path:"category/add",component:O},{path:"category/edit/:id",component:s},{path:"movie",component:N},{path:"movie/add/actor/:id",component:(ct=function(){function t(e,i,r,n,o){var b=this;_classCallCheck(this,t),this.movieService=e,this.route=i,this.router=r,this.actorService=n,this.fb=o,this.actorsSelected=[],this.route.params.subscribe((function(t){return b.id=t.id}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({name:["",o.q.required]}),this.movieService.getMovieDetail(this.id).subscribe((function(e){t.movie=e,e.Actors.forEach((function(e){t.actorsSelected.push(e.id)})),console.log(t.actorsSelected),t.actorService.getActors().subscribe((function(e){t.actors=e,t.form.addControl("actorsFormGroup",t.buildActorFormGroup(e,t.actorsSelected))}))}))}},{key:"buildActorFormGroup",value:function(t){var e=this,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.fb.group({},{validators:ot()}));return t.forEach((function(t){var r=e.actorsSelected.some((function(e){return e===t.id}));i.addControl(t.id,e.fb.control(r))})),i}},{key:"submit",value:function(){var t=this;console.log(this.actorsFormGroupSelectedIds),this.movieService.addActor(this.actorsFormGroupSelectedIds,this.id).subscribe((function(e){t.router.navigate(["/admin/movie"])}))}},{key:"f",get:function(){return this.form&&this.form.controls}},{key:"actorsFormGroup",get:function(){return this.f&&this.f.actorsFormGroup}},{key:"actorsFormGroupSelectedIds",get:function(){var t=[];for(var e in this.actorsFormGroup.controls)this.actorsFormGroup.controls[e].value&&t.push(e);return t}}]),t}(),ct.\u0275fac=function(t){return new(t||ct)(b.Jb(C.a),b.Jb(a.a),b.Jb(a.b),b.Jb(d.a),b.Jb(o.c))},ct.\u0275cmp=b.Db({type:ct,selectors:[["app-add-actor"]],decls:19,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-10"],[1,"col-2","text-right"],["routerLinkActive","router-link-active",1,"btn-primary",3,"routerLink"],[1,"col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["class","checkbox col-3",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],[1,"checkbox","col-3"],[1,"w-100",3,"src"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"div",2),b.Mb(3,"h1"),b.lc(4),b.Lb(),b.Lb(),b.Mb(5,"div",3),b.Mb(6,"button",4),b.lc(7,"Back"),b.Lb(),b.Lb(),b.Mb(8,"div",5),b.Mb(9,"form",6),b.Ub("ngSubmit",(function(){return e.submit()})),b.Mb(10,"div",7),b.Mb(11,"label"),b.lc(12,"Actor"),b.Mb(13,"strong"),b.lc(14,"(Form Group)"),b.Lb(),b.Lb(),b.Mb(15,"div",1),b.kc(16,bt,5,4,"div",8),b.Lb(),b.Lb(),b.Mb(17,"button",9),b.lc(18,"Submit"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t&&(b.zb(4),b.nc("Add Actor to ",null==e.movie?null:e.movie.title,""),b.zb(2),b.ac("routerLink",b.ec(4,ut)),b.zb(3),b.ac("formGroup",e.form),b.zb(7),b.ac("ngForOf",e.actors))},directives:[a.d,a.c,o.s,o.k,o.h,n.k,o.a,o.j,o.e],styles:[""]}),ct)},{path:"movie/add",component:V},{path:"movie/edit/:id",component:nt}],st=((at=function t(){_classCallCheck(this,t)}).\u0275mod=b.Hb({type:at}),at.\u0275inj=b.Gb({factory:function(t){return new(t||at)},imports:[[a.f.forChild(lt)],a.f]}),at),dt=i("PCNd");i.d(e,"AdminModule",(function(){return vt}));var mt,vt=((mt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Hb({type:mt}),mt.\u0275inj=b.Gb({factory:function(t){return new(t||mt)},providers:[n.d],imports:[[n.b,dt.a,st]]}),mt)}}]);